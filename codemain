// function openBrowser(provider) {
//         currentBrowserProvider = provider;
//         const url = BROWSER_URLS[provider];

//         console.log(`Opening browser for ${provider}: ${url}`);

//         chatView.classList.add("hidden");
//         browserView.classList.add("active");
//         browserWebview.src = url;

//         const instructions = {
//           claude:
//             'Click üì∏ to capture screenshot. Image will appear - click "Paste to Chat" to send it to Claude.',
//           chatgpt:
//             'Click üì∏ to capture screenshot. Image will appear - click "Paste to Chat" to send it to ChatGPT.',
//         };
//         const providerNames = {
//             chatgpt:"ChatGPT",
//             claude:"Claude.ai",
//             gemini: "Gemini 2.5",
//             deepseek: "DeepSeek",
//             perplexity: "Perplexity"
//           };
//         browserInfoTitle.textContent = `Using ${providerNames[provider]}`;
//         browserInfoText.textContent = instructions[provider];
//         browserInfo.classList.remove("hidden");

//         setTimeout(() => browserInfo.classList.add("hidden"), 10000);
//       }

//       function closeBrowser() {
//         //console.log("Closing browser view");

//         browserView.classList.remove("active");
//         chatView.classList.remove("hidden");
//         browserWebview.src = "";
//         currentBrowserProvider = null;
//         pendingBrowserImage = null;
//         browserImagePreview.classList.remove("show");

//         switchProvider("gemini-25-flash", "chatbot");
//       }
// function showBrowserNotification(message){
//                       const notification = document.createElement("div");
//                       notification.style.cssText = `
//                           position: fixed; top: 70px; left: 50%; transform: translateX(-50%);
//                           background: rgba(59, 130, 246, 0.95);
//                           padding: 12px 20px; border-radius: 8px; font-size: 12px; z-index: 1000;
//                           animation: slideInRight 0.3s ease; color: white; font-weight: 600;
//                           box-shadow: 0 4px 12px rgba(0,0,0,0.3); max-width: 90%;
//                           text-align: center;
//                         `;
//                       notification.textContent = message;
//                       document.body.appendChild(notification);
//                       setTimeout(() => notification.remove(), 5000);
//                     }
       
//       // ==================== BROWSER EVENT LISTENERS ====================
      
//       // Browser Screenshot Manual - Upload to Cloudinary
//       browserScreenshotBtn.addEventListener("click", async () => {
//         try {
//         browserScreenshotBtn.disabled = true;
//         browserScreenshotBtn.textContent = "‚è≥";

//         const screenshotData = await window.electronAPI.captureScreen();

//         if (screenshotData) {
//           // Show uploading notification
//           showBrowserNotification("üì§ Uploading to cloud...");

//       // Upload to Cloudinary
//       const formData = new FormData();
//       formData.append('file', screenshotData);
//       formData.append('upload_preset', CLOUDINARY_CONFIG.uploadPreset);

//       const uploadResponse = await fetch(
//         `https://api.cloudinary.com/v1_1/${CLOUDINARY_CONFIG.cloudName}/image/upload`,
//         {
//           method: 'POST',
//           body: formData
//         }
//       );

//       const uploadResult = await uploadResponse.json();

//       if (uploadResult.secure_url) {
//         const imageUrl = uploadResult.secure_url;
        
//         // Store the formatted prompt with image URL
//         pendingBrowserText = `Analyse the image and tell proper answer: ${imageUrl}`;
        
//         // Show text preview with the prompt
//         showBrowserTextPreview(pendingBrowserText);
        
//         showBrowserNotification('‚úÖ Image uploaded! Click "Paste to Chat" to send.');
//             } else {
//               showBrowserNotification("‚ùå Upload failed");
//             }
//           } else {
//             showBrowserNotification("‚ùå Screenshot capture failed");
//           }
//         } catch (error) {
//             console.error("Browser screenshot upload error:", error);
//             showBrowserNotification("‚ùå Upload failed: " + error.message);
//           } finally {
//             browserScreenshotBtn.disabled = false;
//             browserScreenshotBtn.textContent = "üì∏";
//           }
//         });

//       // Browser OCR Manual
//       browserOcrBtn.addEventListener("click", async () => {
//             try {
//               const removeLoading = showOCRLoading(browserOcrBtn, "üì∏ Capturing screenshot...");
//               const screenshotData = await window.electronAPI.captureScreen();

//               if (!screenshotData) {
//                 removeLoading();
//                 showBrowserNotification("‚ùå Failed to capture screenshot");
//                 return;
//               }

//               const notif = document.getElementById("ocr-loading-notification");
//               if (notif) notif.textContent = "üìù Extracting text...";

//               const result = await window.electronAPI.extractTextFromImage(screenshotData);
//               removeLoading();

//               if (!result.success || !result.text) {
//                 showBrowserNotification("‚ùå No text found in screenshot");
//                 return;
//               }

//               // üî• NEW: Show text preview with "Paste to Chat" button
//               let textaddon=`Analyse the ocr and answer the question if code provide in that particular language  ${result.text}`;
//               showBrowserTextPreview(textaddon);
//               showBrowserNotification(`‚úÖ Extracted ${result.length} characters. Click "Paste to Chat" to send!`);
//             } catch (error) {
//               console.error("Browser OCR error:", error);
//               showBrowserNotification("‚ùå OCR failed: " + error.message);
//             }
//           });
       